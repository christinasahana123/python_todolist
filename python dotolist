todo_list = []

# adding a new task 
def add_task():
    task = input("enter a task: ")
    todo_list.append({"entered task":task, "status":"pending"})
    print("new task added successfully")
    print()

# view task in the list
def view_task():
    
    print("your todo list :   ")
    if len(todo_list) == 0:
        print("no pending task")
    else:
        for index , task in enumerate(todo_list,1):
            print(f"{index}:{task["entered task"]} - {task["status"]}")
    print("\n")

#remove a task
def remove_task():
    if len(todo_list) == 0:
        print(" your list is empty")
    else:
       try:
         search_index = int(input("enter the task number to be removed:  ")) - 1
         if 0<= search_index < len(todo_list):
            removed_task = todo_list.pop(search_index)
            print(f"task removed:{removed_task['entered task']}")
            print()
         else:
            print("invalid task number, input the correct task number")
            print()
       except ValueError as e:
           print("wrong input",e)

#mark done
def mark_done():
    if len(todo_list) == 0:
        print(" your list is empty")
    else:
       try:
         search_index = int(input("enter the task number to be marked done:  ")) - 1
         if 0<= search_index < len(todo_list):
            todo_list[search_index]['status'] = 'done'
            print(f"task {todo_list[search_index]['entered task']} has been marked done")
            print()
         else:
            print("invalid task number, input the correct task number")
            print()
       except ValueError as e:
           print("wrong input",e)
               



def menu():
    while(True):
       print("*** Main menu ***")
       print("1.add a task")
       print("2.view all tasks")
       print("3.remove a task")
       print("4.mark a task as completed")
       print("5.exit")

       choice = int(input("enter a choice: "))

       if choice == 1:
           add_task()
       elif choice == 2:
           view_task()
       elif choice == 3:
           remove_task()
       elif choice == 4:
           mark_done()
       elif choice == 5:
           print("im exiciting this application")
           exit()
       else:
           print("invalid choice , try again")

menu()
